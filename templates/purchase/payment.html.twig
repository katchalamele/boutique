{% extends "base.html.twig" %}

{% block title %}Payement
{% endblock %}

{% block body %}
	<h1>RÃ©glez votre commande</h1>
	<div class="row">
		<div class="col-5 mx-auto shadow p-4 rounded">
			<form id="payment-form">
				<div id="card-element" class="mb-3"><!--Stripe.js injects the Card Element--></div>
				<button id="submit" class="btn btn-success">
					<div class="spinner hidden" id="spinner"></div>
					<span id="button-text">Payer</span>
				</button>
				<p id="card-error" role="alert" class="m-0"></p>
			</form>
		</div>
	</div>
{% endblock %}

{% block javascripts %}
	<script src="https://js.stripe.com/v3/"></script>
	<script>
		const clientSecret = '{{ clientSecret }}';
const stripePublicKey = '{{ stripePublicKey }}';
const successRedirectUrl = "{{ url('purchase_payment_success', {id: purchase.id}) }}"
	</script>
	<script src="/js/payment.js"></script>
{% endblock %}
